import{j as e,r as s}from"./app-0nnjcZrn.js";import{h as t,E as r}from"./html2canvas.esm-DTTSBkz7.js";const n=({data:s})=>(s.items.reduce((e,s)=>e+s.total,0),e.jsxs("div",{className:"max-w-[280px] text-[10px] font-mono ",children:[e.jsx("h2",{className:"text-center text-[14px] font-bold",children:"STROY LIGHT"}),e.jsx("p",{className:"text-center",children:"YANGI BOZOR XITOY QATOR 5-BLOK 46-DO'KON"}),e.jsx("p",{className:"text-center mb-1",children:"Tel: +998910900070"}),e.jsx("p",{className:"text-center text-gray-500 text-[9px] mb-2",children:"Kamchiliklar haqida 3 kun ichida xabar bering"}),e.jsxs("div",{className:"flex justify-between mb-1",children:[e.jsxs("div",{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Mijoz:"})," ",s.address.first_name]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Tel:"})," ",s.address.phone]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Chek №:"})," ",s.items.length>0?s.items[0].order_id:"Nomaʼlum"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{children:e.jsx("strong",{children:"Sana:"})}),e.jsx("p",{children:new Date(s.created_at).toLocaleString()})]})]}),e.jsxs("table",{className:"w-full border-t border-b text-[9px]",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-y text-center",children:[e.jsx("th",{className:"py-1",children:"№"}),e.jsx("th",{className:"text-left px-2",children:"Nomi"}),e.jsx("th",{children:"O‘lch"}),e.jsx("th",{children:"Rang"}),e.jsx("th",{children:"Miqdor"}),e.jsx("th",{children:"Narx"})]})}),e.jsxs("tbody",{className:"text-center",children:[s.items.map((s,t)=>e.jsxs("tr",{className:"align-top",children:[e.jsxs("td",{children:[t+1,"."]}),e.jsx("td",{className:"px-2 pr-5 text-left",children:s.product.product_name}),e.jsx("td",{children:s.size}),e.jsx("td",{children:s.color}),e.jsx("td",{children:s.quantity}),e.jsx("td",{children:s.price})]},s.id)),e.jsxs("tr",{className:"font-semibold border-t",children:[e.jsx("td",{colSpan:"4",className:"text-right",children:"Jami:"}),e.jsx("td",{children:s.total_price})]})]})]}),e.jsx("p",{className:"mt-3 text-center font-semibold text-[10px]",children:"Xaridingiz uchun rahmat!"})]})),a=({order:a})=>{const i=s.useRef();return e.jsx("div",{className:"mt-10 px-20",children:e.jsxs("div",{className:"min-h-screen",children:[e.jsx("div",{ref:i,children:e.jsx(n,{data:a})}),e.jsxs("div",{className:"flex gap-3 mt-2",children:[e.jsx("button",{onClick:async()=>{const e=i.current,s=await t(e,{scale:2}),n=s.toDataURL("image/png"),a=new r("p","mm","a4"),d=a.internal.pageSize.getWidth(),c=s.height*d/s.width;a.addImage(n,"PNG",0,0,d,c),a.save(`Chek_${data.checkNumber}.pdf`)},className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:"PDF yuklab olish"}),e.jsx("button",{onClick:()=>{const e=document.body.innerHTML,s=i.current.innerHTML;document.body.innerHTML=s,window.print(),document.body.innerHTML=e,window.location.reload()},className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Print qilish"})]})]})})};export{a as default};
