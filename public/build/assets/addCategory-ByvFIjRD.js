import{r as e,j as a,a as s}from"./app-0nnjcZrn.js";import{u as t}from"./use-toast-Dj50PcGS.js";const l=()=>{const[l,o]=e.useState(""),[i,r]=e.useState({}),[n,d]=e.useState(!1),{toast:c}=t();return a.jsxs("div",{className:"p-6 min-h-screen font-sans xl:w-[1200px] my-10",children:[a.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Yangi kategoriya qo‘shish"}),a.jsx("div",{className:"flex flex-col",children:a.jsxs("form",{onSubmit:async e=>{var a;e.preventDefault(),d(!0),r({});try{await s.post("/admin/categories",{name:l}),c({title:"Muvaffaqiyatli",description:`Kategoriya "${l}" qo‘shildi`}),o("")}catch(t){422===(null==(a=t.response)?void 0:a.status)?r(t.response.data.errors||{}):c({title:"Xatolik",description:"Kategoriya qo‘shishda xatolik yuz berdi"})}finally{d(!1)}},className:"space-y-4 flex flex-col",children:[a.jsx("input",{type:"text",value:l,onChange:e=>o(e.target.value),placeholder:"Kategoriya nomi (masalan: Telefon)",className:"max-w-xl border px-4 py-2 rounded"}),i.name&&a.jsx("p",{className:"text-red-500 text-sm",children:i.name}),a.jsx("button",{type:"submit",disabled:n,className:"bg-blue-600 text-white px-6 py-2 rounded max-w-xs hover:bg-blue-700 "+(n?"opacity-50 cursor-not-allowed":""),children:n?"Yuklanmoqda...":"Saqlash"})]})})]})};export{l as default};
