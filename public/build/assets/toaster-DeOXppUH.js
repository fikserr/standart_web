import{r as e,j as t,d as r,o,P as n,p as s,s as a,t as i,u as c,w as d,x as u,y as l,V as p,z as f,A as v,C as m,b as w,D as x,X as y}from"./app-0nnjcZrn.js";import{u as g}from"./use-toast-Dj50PcGS.js";import{c as h}from"./index-RfUdasAZ.js";var T="ToastProvider",[E,b,N]=h("Toast"),[j,R]=r("Toast",[N]),[C,P]=j(T),D=r=>{const{__scopeToast:o,label:n="Notification",duration:s=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:c}=r,[d,u]=e.useState(null),[l,p]=e.useState(0),f=e.useRef(!1),v=e.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${T}\`. Expected non-empty \`string\`.`),t.jsx(E.Provider,{scope:o,children:t.jsx(C,{scope:o,label:n,duration:s,swipeDirection:a,swipeThreshold:i,toastCount:l,viewport:d,onViewportChange:u,onToastAdd:e.useCallback(()=>p(e=>e+1),[]),onToastRemove:e.useCallback(()=>p(e=>e-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:v,children:c})})};D.displayName=T;var L="ToastViewport",S=["F8"],F="toast.viewportPause",_="toast.viewportResume",k=e.forwardRef((r,o)=>{const{__scopeToast:n,hotkey:s=S,label:a="Notifications ({hotkey})",...u}=r,l=P(L,n),p=b(n),f=e.useRef(null),v=e.useRef(null),m=e.useRef(null),w=e.useRef(null),x=c(o,w,l.onViewportChange),y=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=l.toastCount>0;e.useEffect(()=>{const e=e=>{var t;0!==s.length&&s.every(t=>e[t]||e.code===t)&&(null==(t=w.current)||t.focus())};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[s]),e.useEffect(()=>{const e=f.current,t=w.current;if(g&&e&&t){const r=()=>{if(!l.isClosePausedRef.current){const e=new CustomEvent(F);t.dispatchEvent(e),l.isClosePausedRef.current=!0}},o=()=>{if(l.isClosePausedRef.current){const e=new CustomEvent(_);t.dispatchEvent(e),l.isClosePausedRef.current=!1}},n=t=>{!e.contains(t.relatedTarget)&&o()},s=()=>{e.contains(document.activeElement)||o()};return e.addEventListener("focusin",r),e.addEventListener("focusout",n),e.addEventListener("pointermove",r),e.addEventListener("pointerleave",s),window.addEventListener("blur",r),window.addEventListener("focus",o),()=>{e.removeEventListener("focusin",r),e.removeEventListener("focusout",n),e.removeEventListener("pointermove",r),e.removeEventListener("pointerleave",s),window.removeEventListener("blur",r),window.removeEventListener("focus",o)}}},[g,l.isClosePausedRef]);const h=e.useCallback(({tabbingDirection:e})=>{const t=p().map(t=>{const r=t.ref.current,o=[r,...Z(r)];return"forwards"===e?o:o.reverse()});return("forwards"===e?t.reverse():t).flat()},[p]);return e.useEffect(()=>{const e=w.current;if(e){const t=t=>{var r,o,n;const s=t.altKey||t.ctrlKey||t.metaKey;if("Tab"===t.key&&!s){const s=document.activeElement,a=t.shiftKey;if(t.target===e&&a)return void(null==(r=v.current)||r.focus());const i=h({tabbingDirection:a?"backwards":"forwards"}),c=i.findIndex(e=>e===s);ee(i.slice(c+1))?t.preventDefault():a?null==(o=v.current)||o.focus():null==(n=m.current)||n.focus()}};return e.addEventListener("keydown",t),()=>e.removeEventListener("keydown",t)}},[p,h]),t.jsxs(d,{ref:f,role:"region","aria-label":a.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&t.jsx(I,{ref:v,onFocusFromOutsideViewport:()=>{ee(h({tabbingDirection:"forwards"}))}}),t.jsx(E.Slot,{scope:n,children:t.jsx(i.ol,{tabIndex:-1,...u,ref:x})}),g&&t.jsx(I,{ref:m,onFocusFromOutsideViewport:()=>{ee(h({tabbingDirection:"backwards"}))}})]})});k.displayName=L;var A="ToastFocusProxy",I=e.forwardRef((e,r)=>{const{__scopeToast:o,onFocusFromOutsideViewport:n,...s}=e,a=P(A,o);return t.jsx(p,{"aria-hidden":!0,tabIndex:0,...s,ref:r,style:{position:"fixed"},onFocus:e=>{var t;const r=e.relatedTarget;!(null==(t=a.viewport)?void 0:t.contains(r))&&n()}})});I.displayName=A;var M="Toast",K=e.forwardRef((e,r)=>{const{forceMount:i,open:c,defaultOpen:d,onOpenChange:u,...l}=e,[p,f]=o({prop:c,defaultProp:d??!0,onChange:u,caller:M});return t.jsx(n,{present:i||p,children:t.jsx($,{open:p,...l,ref:r,onClose:()=>f(!1),onPause:a(e.onPause),onResume:a(e.onResume),onSwipeStart:s(e.onSwipeStart,e=>{e.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:s(e.onSwipeMove,e=>{const{x:t,y:r}=e.detail.delta;e.currentTarget.setAttribute("data-swipe","move"),e.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${t}px`),e.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${r}px`)}),onSwipeCancel:s(e.onSwipeCancel,e=>{e.currentTarget.setAttribute("data-swipe","cancel"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),e.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:s(e.onSwipeEnd,e=>{const{x:t,y:r}=e.detail.delta;e.currentTarget.setAttribute("data-swipe","end"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),e.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${t}px`),e.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${r}px`),f(!1)})})})});K.displayName=M;var[O,V]=j(M,{onClose(){}}),$=e.forwardRef((r,o)=>{const{__scopeToast:n,type:d="foreground",duration:p,open:f,onClose:v,onEscapeKeyDown:m,onPause:w,onResume:x,onSwipeStart:y,onSwipeMove:g,onSwipeCancel:h,onSwipeEnd:T,...b}=r,N=P(M,n),[j,R]=e.useState(null),C=c(o,e=>R(e)),D=e.useRef(null),L=e.useRef(null),S=p||N.duration,k=e.useRef(0),A=e.useRef(S),I=e.useRef(0),{onToastAdd:K,onToastRemove:V}=N,$=a(()=>{var e;(null==j?void 0:j.contains(document.activeElement))&&(null==(e=N.viewport)||e.focus()),v()}),X=e.useCallback(e=>{e&&e!==1/0&&(window.clearTimeout(I.current),k.current=(new Date).getTime(),I.current=window.setTimeout($,e))},[$]);e.useEffect(()=>{const e=N.viewport;if(e){const t=()=>{X(A.current),null==x||x()},r=()=>{const e=(new Date).getTime()-k.current;A.current=A.current-e,window.clearTimeout(I.current),null==w||w()};return e.addEventListener(F,r),e.addEventListener(_,t),()=>{e.removeEventListener(F,r),e.removeEventListener(_,t)}}},[N.viewport,S,w,x,X]),e.useEffect(()=>{f&&!N.isClosePausedRef.current&&X(S)},[f,S,N.isClosePausedRef,X]),e.useEffect(()=>(K(),()=>V()),[K,V]);const q=e.useMemo(()=>j?G(j):null,[j]);return N.viewport?t.jsxs(t.Fragment,{children:[q&&t.jsx(U,{__scopeToast:n,role:"status","aria-live":"foreground"===d?"assertive":"polite","aria-atomic":!0,children:q}),t.jsx(O,{scope:n,onClose:$,children:u.createPortal(t.jsx(E.ItemSlot,{scope:n,children:t.jsx(l,{asChild:!0,onEscapeKeyDown:s(m,()=>{N.isFocusedToastEscapeKeyDownRef.current||$(),N.isFocusedToastEscapeKeyDownRef.current=!1}),children:t.jsx(i.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":f?"open":"closed","data-swipe-direction":N.swipeDirection,...b,ref:C,style:{userSelect:"none",touchAction:"none",...r.style},onKeyDown:s(r.onKeyDown,e=>{"Escape"===e.key&&(null==m||m(e.nativeEvent),e.nativeEvent.defaultPrevented||(N.isFocusedToastEscapeKeyDownRef.current=!0,$()))}),onPointerDown:s(r.onPointerDown,e=>{0===e.button&&(D.current={x:e.clientX,y:e.clientY})}),onPointerMove:s(r.onPointerMove,e=>{if(!D.current)return;const t=e.clientX-D.current.x,r=e.clientY-D.current.y,o=Boolean(L.current),n=["left","right"].includes(N.swipeDirection),s=["left","up"].includes(N.swipeDirection)?Math.min:Math.max,a=n?s(0,t):0,i=n?0:s(0,r),c="touch"===e.pointerType?10:2,d={x:a,y:i},u={originalEvent:e,delta:d};o?(L.current=d,J("toast.swipeMove",g,u,{discrete:!1})):Q(d,N.swipeDirection,c)?(L.current=d,J("toast.swipeStart",y,u,{discrete:!1}),e.target.setPointerCapture(e.pointerId)):(Math.abs(t)>c||Math.abs(r)>c)&&(D.current=null)}),onPointerUp:s(r.onPointerUp,e=>{const t=L.current,r=e.target;if(r.hasPointerCapture(e.pointerId)&&r.releasePointerCapture(e.pointerId),L.current=null,D.current=null,t){const r=e.currentTarget,o={originalEvent:e,delta:t};Q(t,N.swipeDirection,N.swipeThreshold)?J("toast.swipeEnd",T,o,{discrete:!0}):J("toast.swipeCancel",h,o,{discrete:!0}),r.addEventListener("click",e=>e.preventDefault(),{once:!0})}})})})}),N.viewport)})]}):null}),U=r=>{const{__scopeToast:o,children:n,...s}=r,i=P(M,o),[c,d]=e.useState(!1),[u,l]=e.useState(!1);return function(e=()=>{}){const t=a(e);m(()=>{let e=0,r=0;return e=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(e),window.cancelAnimationFrame(r)}},[t])}(()=>d(!0)),e.useEffect(()=>{const e=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(e)},[]),u?null:t.jsx(f,{asChild:!0,children:t.jsx(p,{...s,children:c&&t.jsxs(t.Fragment,{children:[i.label," ",n]})})})},X=e.forwardRef((e,r)=>{const{__scopeToast:o,...n}=e;return t.jsx(i.div,{...n,ref:r})});X.displayName="ToastTitle";var q=e.forwardRef((e,r)=>{const{__scopeToast:o,...n}=e;return t.jsx(i.div,{...n,ref:r})});q.displayName="ToastDescription";var z="ToastAction",H=e.forwardRef((e,r)=>{const{altText:o,...n}=e;return o.trim()?t.jsx(B,{altText:o,asChild:!0,children:t.jsx(Y,{...n,ref:r})}):(console.error(`Invalid prop \`altText\` supplied to \`${z}\`. Expected non-empty \`string\`.`),null)});H.displayName=z;var W="ToastClose",Y=e.forwardRef((e,r)=>{const{__scopeToast:o,...n}=e,a=V(W,o);return t.jsx(B,{asChild:!0,children:t.jsx(i.button,{type:"button",...n,ref:r,onClick:s(e.onClick,a.onClose)})})});Y.displayName=W;var B=e.forwardRef((e,r)=>{const{__scopeToast:o,altText:n,...s}=e;return t.jsx(i.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:r})});function G(e){const t=[];return Array.from(e.childNodes).forEach(e=>{if(e.nodeType===e.TEXT_NODE&&e.textContent&&t.push(e.textContent),function(e){return e.nodeType===e.ELEMENT_NODE}(e)){const r=e.ariaHidden||e.hidden||"none"===e.style.display,o=""===e.dataset.radixToastAnnounceExclude;if(!r)if(o){const r=e.dataset.radixToastAnnounceAlt;r&&t.push(r)}else t.push(...G(e))}}),t}function J(e,t,r,{discrete:o}){const n=r.originalEvent.currentTarget,s=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&n.addEventListener(e,t,{once:!0}),o?v(n,s):n.dispatchEvent(s)}var Q=(e,t,r=0)=>{const o=Math.abs(e.x),n=Math.abs(e.y),s=o>n;return"left"===t||"right"===t?s&&o>r:!s&&n>r};function Z(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function ee(e){const t=document.activeElement;return e.some(e=>e===t||(e.focus(),document.activeElement!==t))}var te=k,re=K,oe=X,ne=q,se=H,ae=Y;const ie=D,ce=e.forwardRef(({className:e,...r},o)=>t.jsx(te,{ref:o,className:w("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...r}));ce.displayName=te.displayName;const de=x("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),ue=e.forwardRef(({className:e,variant:r,...o},n)=>t.jsx(re,{ref:n,className:w(de({variant:r}),e),...o}));ue.displayName=re.displayName;e.forwardRef(({className:e,...r},o)=>t.jsx(se,{ref:o,className:w("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium transition-colors hover:bg-secondary focus:outline-none focus:ring-1 focus:ring-ring disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...r})).displayName=se.displayName;const le=e.forwardRef(({className:e,...r},o)=>t.jsx(ae,{ref:o,className:w("absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...r,children:t.jsx(y,{className:"h-4 w-4"})}));le.displayName=ae.displayName;const pe=e.forwardRef(({className:e,...r},o)=>t.jsx(oe,{ref:o,className:w("text-sm font-semibold [&+div]:text-xs",e),...r}));pe.displayName=oe.displayName;const fe=e.forwardRef(({className:e,...r},o)=>t.jsx(ne,{ref:o,className:w("text-sm opacity-90",e),...r}));function ve(){const{toasts:e}=g();return t.jsxs(ie,{children:[e.map(function({id:e,title:r,description:o,action:n,...s}){return t.jsxs(ue,{...s,children:[t.jsxs("div",{className:"grid gap-1",children:[r&&t.jsx(pe,{children:r}),o&&t.jsx(fe,{children:o})]}),n,t.jsx(le,{})]},e)}),t.jsx(ce,{})]})}fe.displayName=ne.displayName;export{ve as Toaster};
