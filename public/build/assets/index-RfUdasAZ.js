import{d as e,R as r,u as t,j as o,e as n}from"./app-0nnjcZrn.js";function c(c){const l=c+"CollectionProvider",[i,s]=e(l),[a,f]=i(l,{collectionRef:{current:null},itemMap:new Map}),u=e=>{const{scope:t,children:n}=e,c=r.useRef(null),l=r.useRef(new Map).current;return o.jsx(a,{scope:t,itemMap:l,collectionRef:c,children:n})};u.displayName=l;const d=c+"CollectionSlot",p=n(d),m=r.forwardRef((e,r)=>{const{scope:n,children:c}=e,l=f(d,n),i=t(r,l.collectionRef);return o.jsx(p,{ref:i,children:c})});m.displayName=d;const R=c+"CollectionItemSlot",M="data-radix-collection-item",x=n(R),h=r.forwardRef((e,n)=>{const{scope:c,children:l,...i}=e,s=r.useRef(null),a=t(n,s),u=f(R,c);return r.useEffect(()=>(u.itemMap.set(s,{ref:s,...i}),()=>{u.itemMap.delete(s)})),o.jsx(x,{[M]:"",ref:a,children:l})});return h.displayName=R,[{Provider:u,Slot:m,ItemSlot:h},function(e){const t=f(c+"CollectionConsumer",e);return r.useCallback(()=>{const e=t.collectionRef.current;if(!e)return[];const r=Array.from(e.querySelectorAll(`[${M}]`));return Array.from(t.itemMap.values()).sort((e,t)=>r.indexOf(e.ref.current)-r.indexOf(t.ref.current))},[t.collectionRef,t.itemMap])},s]}export{c};
