import{q as e,r as a,j as s,Y as n,m as r}from"./app-0nnjcZrn.js";import{H as l}from"./index-D7aLGra3.js";import{t}from"./use-toast-Dj50PcGS.js";import"./iconBase-x5fZwo94.js";const i=()=>{const{props:i}=e(),m=i.address||{},[c,d]=a.useState({first_name:"",last_name:"",street:"",city:"",house_number:"",region:"",phone:""}),[h,u]=a.useState({}),[p,x]=a.useState(!1);a.useEffect(()=>{d({first_name:m.first_name||"",last_name:m.last_name||"",street:m.street||"",city:m.city||"",house_number:m.house_number||"",region:m.region||"",phone:m.phone||""})},[m]);return s.jsxs("div",{className:"my-24 px-5 xl:px-32",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[s.jsx(l,{className:"text-2xl"}),s.jsx(n,{href:"/address","aria-label":"Back to Address",children:s.jsx("h1",{className:"font-bold text-5xl font-oswald",children:"Joylashuv"})})]}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-5",children:s.jsxs("div",{className:"col-span-4 my-5 px-10",children:[s.jsx("div",{className:"grid grid-cols-4 items-center pl-6",children:s.jsx("h2",{className:"col-span-3 text-2xl font-oswald",children:"Joylashuvni tahrirlash"})}),s.jsxs("form",{onSubmit:e=>{e.preventDefault(),x(!0),u({}),r.put(`/address-update/${m.id}`,c,{onSuccess:()=>{t({title:"✅ Muvaffaqiyatli",description:"Manzil yangilandi!"}),r.visit("/address")},onError:e=>{u(e),t({title:"❌ Xatolik",description:"Ma'lumotni tekshiring."})},onFinish:()=>x(!1)})},className:"grid p-5 gap-5",children:[s.jsx(o,{label:"Ismingiz:",name:"first_name",value:c.first_name,onChange:d,error:h.first_name}),s.jsx(o,{label:"Familiyangiz:",name:"last_name",value:c.last_name,onChange:d,error:h.last_name}),s.jsx(o,{label:"Ko'changiz:",name:"street",value:c.street,onChange:d,className:"sm:col-span-2",error:h.street}),s.jsx(o,{label:"Shahar:",name:"city",value:c.city,onChange:d,error:h.city}),s.jsx(o,{label:"Uy raqami / xonadon:",name:"house_number",value:c.house_number,onChange:d,error:h.house_number}),s.jsx(o,{label:"Viloyat / tuman:",name:"region",value:c.region,onChange:d,error:h.region}),s.jsx(o,{label:"Telefon raqamingiz:",name:"phone",value:c.phone,onChange:d,error:h.phone}),s.jsx("div",{className:"flex gap-4 pt-4",children:s.jsx("button",{type:"submit",disabled:p,className:"bg-black text-white px-6 py-2 rounded",children:"Saqlash"})})]})]})})]})},o=({label:e,name:a,value:n,onChange:r,className:l="",error:t})=>s.jsxs("div",{className:`bg-slate-100 p-3 rounded-lg space-y-2 ${l}`,children:[s.jsx("h3",{className:"font-oswald",children:e}),s.jsx("input",{type:"text",value:n,onChange:e=>r(s=>({...s,[a]:e.target.value})),placeholder:`${e}ni kiriting`,className:"bg-transparent w-full outline-none"}),t&&s.jsx("p",{className:"text-red-500 text-sm",children:t})]});export{i as default};
