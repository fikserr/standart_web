import{j as e,r as s}from"./app-0nnjcZrn.js";import{h as r,E as t}from"./html2canvas.esm-DTTSBkz7.js";const d=({data:s})=>e.jsxs("div",{className:"w-full p-2 font-sans text-sm",children:[e.jsx("h1",{className:"text-4xl font-extrabold text-center mb-2",children:"STROY LIGHT"}),e.jsx("p",{className:"text-center",children:"YANGI BOZOR XITOY QATOR 5-BLOK 46-DO'KON"}),e.jsx("p",{className:"text-center mb-4",children:"Telefon: +998910900070"}),e.jsxs("div",{className:"grid grid-cols-2 text-sm gap-y-1 mb-4",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Mijoz:"})," ",s.address.first_name," ",s.address.last_name]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Chek №:"})," ",s.items.length>0?s.items[0].order_id:"Nomaʼlum"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Mijoz tel:"})," ",s.address.phone]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Sana:"})," ",new Date(s.created_at).toLocaleString()]})]}),e.jsxs("table",{className:"w-full border border-collapse mt-2",children:[e.jsx("thead",{className:"bg-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"border px-5 py-3 w-[5%]",children:"№"}),e.jsx("th",{className:"border px-5 py-3 w-[100%] text-left",children:"Nomi"}),e.jsx("th",{className:"border px-5 py-3 w-[5%]",children:"O‘lcham"}),e.jsx("th",{className:"border px-5 py-3 w-[5%]",children:"Rangi"}),e.jsx("th",{className:"border px-10 py-3 w-[20%]",children:"Miqdor"}),e.jsx("th",{className:"border px-10 py-3 w-[20%]",children:"Narx"})]})}),e.jsxs("tbody",{children:[s.items.map((s,r)=>e.jsxs("tr",{children:[e.jsx("td",{className:"border px-5 py-3 text-center",children:r+1}),e.jsx("td",{className:"border px-5 w-96 py-3 text-left font-semibold",children:s.product.product_name}),e.jsx("td",{className:"border px-10 py-3 text-center",children:s.size}),e.jsx("td",{className:"border px-10 py-3 text-center",children:s.color}),e.jsx("td",{className:"border px-10 py-3 text-center",children:s.quantity}),e.jsx("td",{className:"border px-10 py-3 text-center",children:s.price})]},s.id)),e.jsxs("tr",{children:[e.jsx("td",{colSpan:4,className:"border px-10 py-3 text-right font-bold",children:"Jami:"}),e.jsx("td",{className:"border px-10 py-3 text-right font-bold",children:s.total_price})]})]})]})]}),a=({order:a})=>{const n=s.useRef();return e.jsx("div",{className:"mt-3 px-20",children:e.jsxs("div",{className:"min-h-screen",children:[e.jsx("div",{ref:n,children:e.jsx(d,{data:a})}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:async()=>{const e=n.current,s=await r(e,{scale:2}),d=s.toDataURL("image/png"),a=new t("p","mm","a4"),l=a.internal.pageSize.getWidth(),c=s.height*l/s.width;a.addImage(d,"PNG",0,0,l,c),a.save(`Chek_${data.checkNumber}.pdf`)},className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:"PDF yuklab olish"}),e.jsx("button",{onClick:()=>{const e=document.body.innerHTML,s=n.current.innerHTML;document.body.innerHTML=s,window.print(),document.body.innerHTML=e,window.location.reload()},className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Print qilish"})]})]})})};export{a as default};
